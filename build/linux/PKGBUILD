# Maintainer: 7d <i.third.7d@protonmail.com>
pkgname=stencil2
pkgver=2.0.1
pkgrel=1
depends=('curl')
makedepends=('git', 'rustup')
arch=('x86_64')
pkgdesc="Map editor for MRT Map data"
license=('GPL3')
changelog="../../changelog.md"
url="https://github.com/mrt-map/stencil2"

build() {
  git clone --depth 1 --branch v$pkgver "$url.git"
  cd stencil2
  rustup toolchain install nightly
  cargo +nightly build --release
  cp "./target/release/stencil2 ../stencil2-exec"
}

package() {
  install -Dm755 stencil2-exec "$pkgdir/usr/bin/$pkgname"
}